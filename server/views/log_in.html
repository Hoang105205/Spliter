<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - hSpliter</title>
    <link href="https://fonts.googleapis.com/css?family=Inter:400|Poppins:400|Bree+Serif:400|Pompiere:400|Roboto+Flex:500" rel="stylesheet">
    <link rel="stylesheet" href="/css/log_in.css">
</head>
<body>
    <div class="container">
        <!-- Logo -->
        <div class="logo">
            <span class="logo-h">h</span><span class="logo-text">Spliter</span>
        </div>

        <!-- Login Form -->
        <div class="login-container">
            <h1>Log In</h1>
            
            <div class="form-card">
                <!-- Username Field -->
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" class="input-field" id="username">
                    <span class="error-message" id="username-error"></span>
                </div>

                <!-- Password Field -->
                <div class="form-group">
                    <label>Password</label>
                    <div class="password-field">
                        <input type="password" class="input-field" id="password">
                        <div class="password-toggle" id="password-toggle">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M9.88 9.88a3 3 0 1 0 4.24 4.24'%3E%3C/path%3E%3Cpath d='M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68'%3E%3C/path%3E%3Cpath d='M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61'%3E%3C/path%3E%3Cline x1='2' y1='2' x2='22' y2='22'%3E%3C/line%3E%3C/svg%3E" alt="Hide" class="eye-icon" id="eye-icon">
                            <span>Hide</span>
                        </div>
                    </div>
                    <span class="error-message" id="password-error"></span>
                </div>

                <!-- Login Button -->
                <button class="btn btn-login" id="login-btn">Log In</button>

                <!-- Divider -->
                <div class="divider">
                    <div class="line"></div>
                    <span>OR</span>
                    <div class="line"></div>
                </div>

                <!-- Google Login -->
                <button class="btn btn-google">
                    <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google" class="google-icon">
                    Continue with Google
                </button>

                <!-- Sign Up Section -->
                <p class="signup-text">Don't have an account?</p>
                <button class="btn btn-signup" id="signup-btn">Sign Up</button>
            </div>
        </div>
    </div>

    <script>
        // Password visibility toggle
        const passwordToggle = document.getElementById('password-toggle');
        const passwordInput = document.getElementById('password');
        const eyeIcon = document.getElementById('eye-icon');

        passwordToggle.addEventListener('click', () => {
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            
            // Toggle eye icon
            if (type === 'password') {
                eyeIcon.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M9.88 9.88a3 3 0 1 0 4.24 4.24'%3E%3C/path%3E%3Cpath d='M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68'%3E%3C/path%3E%3Cpath d='M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61'%3E%3C/path%3E%3Cline x1='2' y1='2' x2='22' y2='22'%3E%3C/line%3E%3C/svg%3E";
                passwordToggle.querySelector('span').textContent = 'Hide';
            } else {
                eyeIcon.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z'%3E%3C/path%3E%3Ccircle cx='12' cy='12' r='3'%3E%3C/circle%3E%3C/svg%3E";
                passwordToggle.querySelector('span').textContent = 'Show';
            }
        });

        // Form validation and submission
        const loginBtn = document.getElementById('login-btn');
        const usernameInput = document.getElementById('username');
        const usernameError = document.getElementById('username-error');
        const passwordError = document.getElementById('password-error');

        loginBtn.addEventListener('click', (e) => {
            e.preventDefault();
            let isValid = true;

            // Reset errors
            usernameError.textContent = '';
            passwordError.textContent = '';

            // Validate username
            if (!usernameInput.value.trim()) {
                usernameError.textContent = 'Username is required';
                isValid = false;
            }

            // Validate password
            if (!passwordInput.value.trim()) {
                passwordError.textContent = 'Password is required';
                isValid = false;
            } else if (passwordInput.value.length < 6) {
                passwordError.textContent = 'Password must be at least 6 characters';
                isValid = false;
            }

            if (isValid) {
                loginBtn.textContent = 'Logging in...';
                loginBtn.disabled = true;
                
                // Simulate login (replace with actual login logic)
                setTimeout(() => {
                    alert('Login successful!');
                    loginBtn.textContent = 'Log In';
                    loginBtn.disabled = false;
                }, 1500);
            }
        });

        // Sign up button click handler
        const signupBtn = document.getElementById('signup-btn');
        signupBtn.addEventListener('click', () => {
            window.location.href = '/sign-up';
        });

        // Google login button click handler
        const googleLoginBtn = document.querySelector('.btn-google');
        googleLoginBtn.addEventListener('click', () => {
            window.location.href = '/auth/google';
        });

    </script>
</body>
</html>